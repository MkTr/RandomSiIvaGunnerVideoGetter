<!DOCTYPE html>
<html>
<head>
<style>
.imageWrapper {
  position: fixed;
}
@-webkit-keyframes rotate {
  from {
    -webkit-transform: rotate(0deg);
  }
  to { 
    -webkit-transform: rotate(360deg);
  }
}
@-moz-keyframes rotate {
  from {
    -moz-transform: rotate(0deg);
  }
  to { 
    -moz-transform: rotate(360deg);
  }
}
@-o-keyframes rotate {
  from {
    -o-transform: rotate(0deg);
  }
  to { 
    -o-transform: rotate(360deg);
  }
}
@-ms-keyframes rotate {
  from {
    -ms-transform: rotate(0deg);
  }
  to { 
    -ms-transform: rotate(360deg);
  }
}
.overlayImage {
  position: fixed;
  top: 0px;
  left: 0px;
  -webkit-animation-name:             rotate; 
  -webkit-animation-duration:         0.2s; 
  -webkit-animation-iteration-count:  infinite;
  -webkit-animation-timing-function: linear;
  -moz-animation-name:             rotate; 
  -moz-animation-duration:         0.2s; 
  -moz-animation-iteration-count:  infinite;
  -moz-animation-timing-function: linear;
  -o-animation-name:             rotate; 
  -o-animation-duration:         0.2s; 
  -o-animation-iteration-count:  infinite;
  -o-animation-timing-function: linear;
  -ms-animation-name:             rotate; 
  -ms-animation-duration:         0.2s; 
  -ms-animation-iteration-count:  infinite;
  -ms-animation-timing-function: linear;
}
</style>
</head>

<body>

  <div id="page-wrapper">

	<div class="imageWrapper" id="BeanSoup"> </div>
        <div>
            <p id="instructions">Copy the list of rips from <a href="http://siivagunner.wikia.com/wiki/List_of_SiIvaGunner_Uploads">the wikia page</a> (highlight the first rip, hold shift and click the space after the last rip), save them in a text file and open it here:
            <input type="file" id="fileInput"><p>
        </div>
		<p id="FitnessGramPacerTest" style="display:none;">	<button id="RandomButton" onClick="FindRandomRip()">Random Rip</button><br>
		<input type="text" id="SearchRipInputBox">		<button id="SearchRipButton" onClick="SearchForRip(SearchRipInputBox.value)">Search Rip</button><p><br>
        <p id="RipsDisplayArea"><p>
		<br><button id="BeanButton" onClick="BeanButtonPressed()" style="display:none;">Get Beaned</button>

    </div>
	
<script>
var RipCount = 0;
var RipsList;

window.onload = function() {
        var fileInput = document.getElementById('fileInput');
        var RipsDisplayArea = document.getElementById('RipsDisplayArea');

        fileInput.addEventListener('change', function(e) {
            var file = fileInput.files[0];
            var textType = /text.*/;

            if (file.type.match(textType)) {
                var reader = new FileReader();

                reader.onload = function(e) {
                    RipsDisplayArea.innerText = reader.result;
					document.getElementById("fileInput").style.display="none";
					
					RipCount = ProcessRips();
					RipsDisplayArea.innerText = RipsDisplayArea.innerText + "\n\n" + RipCount + " rips. Wew.";
					document.getElementById("FitnessGramPacerTest").style.display="block";
					document.getElementById("instructions").style.display="none";
					document.getElementById("BeanButton").style.display="block";
                }

                reader.readAsText(file);    
            } else {
                RipsDisplayArea.innerText = "Do I look like I know what a jay peg is, I just want a txt of a list of SiIvaGunner rips";
            }
        });
}

function ProcessRips(){
		RipsList = RipsDisplayArea.innerText.split(/\r\n|\r|\n/);
		var ListSize = RipsList.length;
		var pos;
		RipsDisplayArea.innerText = '';
		
		for(pos = 0; pos < ListSize; ++pos)
		{
			if(RipsList[pos] == 0) {
				RipsList.splice(pos,1);
				--pos;
				--ListSize
			}
		}
		
		RipsDisplayArea.innerText = RipsList.join('\n');
		return ListSize;
}

function FindRandomRip(){
		var randomRip = Math.floor(Math.random() * RipCount);
/*		var textPosition = 0;
		var areWeThereYet;
		for(areWeThereYet = 0; areWeThereYet < randomRip; ++areWeThereYet)
		{
			textPosition = RipsDisplayArea.innerText.indexOf("\n",textPosition+1);
		}
		var rip = RipsDisplayArea.innerText.substring(textPosition, RipsDisplayArea.innerText.indexOf("\n",textPosition+1) );

//		var fontSize = parseInt( window.getComputedStyle(document.getElementById("RipsDisplayArea")).fontSize ) +2;*/
//		window.scrollTo(0,(fontSize * randomRip));

		document.getElementById("SearchRipInputBox").value = RipsList[randomRip];
}

function SearchForRip(theRip){
		var linkToSiIva = "https://www.youtube.com/channel/UC9ecwl3FTG66jIKA9JRDtmg/search?query=" + theRip;
		linkToSiIva = linkToSiIva.replace(/ /g, '%20');
		linkToSiIva = linkToSiIva.replace(/"/g, '%20');
		window.open(linkToSiIva);
}

function BeanButtonPressed(){
		var bean = document.createElement("img");
		bean.setAttribute("class", "overlayImage");
		var randomTop = Math.floor(Math.random() * (window.innerHeight-100));
		var randomLeft = Math.floor(Math.random() * (window.innerWidth-100));
		var randomScale = Math.floor(Math.random() * 35) +5;
//		var randomSpeed = Math.floor(Math.random() * 1000) +0;
//		var randomSpeed = randomSpeed / 100;
		bean.style.top = randomTop.toString() + 'px';
		bean.style.left = randomLeft.toString() + 'px';
		bean.setAttribute("width", randomScale.toString() + '%');
		bean.setAttribute("height", "auto");
//		bean.style.animation-duration = randomSpeed.toString() + 's';
//		console.log(randomSpeed.toString() + 's');
//		console.log(bean.style.animation-duration);
		bean.src = 'https://lh3.googleusercontent.com/cBkHyq_x9K_bm6qoJB28dBQa7bwMvo7tKhos3ADSMuYvTtKWFjA8YGm53N5gatsbcBQ=w300';

		document.getElementById("BeanSoup").appendChild(bean);
}

</script>


</body>
</html> 
<!DOCTYPE html>
<html>
<body>

  <div id="page-wrapper">

        <div>
            <p id="instructions">Copy the list of rips from <a href="http://siivagunner.wikia.com/wiki/List_of_SiIvaGunner_Uploads">the wikia page</a> (highlight the first rip, hold shift and click the space after the last rip), save them in a text file and open it here:
            <input type="file" id="fileInput"><p>
        </div>
		<p id="FitnessGramPacerTest" style="display:none;">	<button id="RandomButton" onClick="FindRandomRip()">Random Rip</button><br>
		<input type="text" id="SearchRipInputBox">		<button id="SearchRipButton" onClick="SearchForRip(SearchRipInputBox.value)">Search Rip</button><p><br>
        <p id="RipsDisplayArea"><p>

    </div>
<script>
var RipCount = 0;
var RipsList;

window.onload = function() {
        var fileInput = document.getElementById('fileInput');
        var RipsDisplayArea = document.getElementById('RipsDisplayArea');

        fileInput.addEventListener('change', function(e) {
            var file = fileInput.files[0];
            var textType = /text.*/;

            if (file.type.match(textType)) {
                var reader = new FileReader();

                reader.onload = function(e) {
                    RipsDisplayArea.innerText = reader.result;
					document.getElementById("fileInput").style.display="none";
					
					RipCount = ProcessRips();
					RipsDisplayArea.innerText = RipsDisplayArea.innerText + "\n\n" + RipCount + " rips. Wew.";
					document.getElementById("FitnessGramPacerTest").style.display="block";
					document.getElementById("instructions").style.display="none";
                }

                reader.readAsText(file);    
            } else {
                RipsDisplayArea.innerText = "Do I look like I know what a jay peg is, I just want a txt of a list of SiIvaGunner rips";
            }
        });
}

function ProcessRips(){
		RipsList = RipsDisplayArea.innerText.split(/\r\n|\r|\n/);
		var ListSize = RipsList.length;
		var pos;
		RipsDisplayArea.innerText = '';
		
		for(pos = 0; pos < ListSize; ++pos)
		{
			if(RipsList[pos] == 0) {
				RipsList.splice(pos,1);
				--pos;
				--ListSize
			}
		}
		
		RipsDisplayArea.innerText = RipsList.join('\n');
		return ListSize;
}

function FindRandomRip(){
		var randomRip = Math.floor(Math.random() * RipCount);
/*		var textPosition = 0;
		var areWeThereYet;
		for(areWeThereYet = 0; areWeThereYet < randomRip; ++areWeThereYet)
		{
			textPosition = RipsDisplayArea.innerText.indexOf("\n",textPosition+1);
		}
		var rip = RipsDisplayArea.innerText.substring(textPosition, RipsDisplayArea.innerText.indexOf("\n",textPosition+1) );

//		var fontSize = parseInt( window.getComputedStyle(document.getElementById("RipsDisplayArea")).fontSize ) +2;*/
//		window.scrollTo(0,(fontSize * randomRip));

		document.getElementById("SearchRipInputBox").value = RipsList[randomRip];
}

function SearchForRip(theRip){
		var linkToSiIva = "https://www.youtube.com/channel/UC9ecwl3FTG66jIKA9JRDtmg/search?query=" + theRip;
		linkToSiIva = linkToSiIva.replace(/ /g, '%20');
		linkToSiIva = linkToSiIva.replace(/"/g, '%20');
		linkToSiIva = linkToSiIva.replace(/&/g, '%20');
		window.open(linkToSiIva);
}


</script>

</body>
</html> 

		var pos;
		RipsDisplayArea.innerText = '';
		
		for(pos = 0; pos < ListSize; ++pos)
		{
			if(RipsList[pos] == 0) {
				RipsList.splice(pos,1);
				--pos;
				--ListSize
			}
		}
		
		RipsDisplayArea.innerText = RipsList.join('\n');
		return ListSize;
}

function FindRandomRip(){
		var randomRip = Math.floor(Math.random() * RipCount);
/*		var textPosition = 0;
		var areWeThereYet;
		for(areWeThereYet = 0; areWeThereYet < randomRip; ++areWeThereYet)
		{
			textPosition = RipsDisplayArea.innerText.indexOf("\n",textPosition+1);
		}
		var rip = RipsDisplayArea.innerText.substring(textPosition, RipsDisplayArea.innerText.indexOf("\n",textPosition+1) );

//		var fontSize = parseInt( window.getComputedStyle(document.getElementById("RipsDisplayArea")).fontSize ) +2;*/
//		window.scrollTo(0,(fontSize * randomRip));

		document.getElementById("SearchRipInputBox").value = RipsList[randomRip];
}

function SearchForRip(theRip){
		var linkToSiIva = "https://www.youtube.com/channel/UC9ecwl3FTG66jIKA9JRDtmg/search?query=" + theRip;
		linkToSiIva = linkToSiIva.replace(/ /g, '%20');
		linkToSiIva = linkToSiIva.replace(/"/g, '%20');
		window.open(linkToSiIva);
}


</script>

</body>
</html> 
